os: linux
dist: bionic
language: node_js
node_js:
  - 10.12
  - lts/dubnium
  - lts/erbium
  - lts/*
  - node
before_install:
  # latest npm, gulp
  - npm i -g gulp-cli # npm yarn
  ## latest yarn
  # - curl -o- -L https://yarnpkg.com/install.sh | bash # -s -- --version [version]
  # - export PATH="$HOME/.yarn/bin:$PATH"
cache:
  yarn: true
install:
  - yarn install
before_script:
  - npm test
  - gulp
  - cd dist
  - yarn install
script:
  - npm test
  - cd ..
before_deploy:
  - gulp preBuild
  - cd dist
  - cd dist
deploy:
  edge: true
  cleanup: false
  on:
    branch: master
    tags: true
    condition: $TRAVIS_NODE_VERSION = 10.12
  tag: latest
  provider: npm
  email:
    secure: Qkp4m98lqThYY68/0HFqWohdy1WXUgSmQsY1Zu7P1siigVx6TxhI7o8KYrcONRjdjhw/WS82ukJRZ+uxgWMG/tr1J0XNDpMa3CF3cQ+QX9O2QCp1AU+T9mgmhoO9Ec+6r2dlo8e3tvJ+wLZ1UhoF8WcJQSgcGAjRX4aI0gIxHcOvefguxrwLPUddlAFmM8lCbItcKU4lMqp6xbjldi81rWgED7DKFpDZVima8FWAzgPqd5cSAviCvk/VKqlcmSTulLP67cYHazk0a+RpFrKXa68UfFJPguidvhiYuGTTZzy52It2O2jcivDp87LGW9XxqyMEg9VkxK3umz1oySomqAywcrgnVwtwAnqcc29fT8q9dsboRDpgutGk9B58lQbDOUEt5vdP5CVdXq2rEChQGw36jMk7s5+3rbeq3l+5mQvvT0Q6U4I4nExSvE2GAYSLhfjIWSuhDMnjdBGXCxgvWnBjOnCg/6DK1hb3TLHpx6sECYCZLUOnmkEb0amGga9hMREuvIwr2YRblMtv4O/FSpUjvGmBHj+VUEN8D85MCCghRnRe0+AlMId3ZNXLa5lEIsAoA35z5Ffy71eP9LHBsO1D5PLWHOJHfdjuIuDaqerpnGWg0f6/GKQyQH113eD1zvSWfzPsFBGak7rxvv+I5OT4SytwmbmZ07/0ayfcYs8=
  api_key:
    secure: GeIMxrdUB0bXAsQNor+QwCJlbHhQL6jr3HIKg89TJql3HVUHwN2E9ewQtetlseRMGbIcFIzbDVAulW7aFDhMNkeo8y59Ghv6oSjbZX87T8g5yMPQPxyEi/RYbLSft1iT/XCPIsATNIjQjvTp2uPnb9iMC6UYhvD/Rf/8/O99zU8McVNhkXRqUvjq1K9kgr5vHWdyoM5WiUfD3TrfUyYqcNq/DhpeaWQQHT9v1O5xqY+I1rrzk1HPM/KZbjyoJhx1eYcXChf9PESqBE+JdlHZnGissImalcNKRYbPgvO2UQ9L5DpN0G0KoibtZf2WNQspoVvDZjIbCS70XSAA60fM3XjTUJH666c83qj1KQ/71zKV2aJKRVHTESdus+XS9gEErxPykYF9/xQU7ycxhH/sDh/nEL+hBUF1+k0Qt7vcOkE3AudUAmZW2p2ecYF12XpMBax7c9UoUWeRlt7nXo+TsiyQmFJPFttLXgUa82PLN1otvtewOmEXsnx0Anyv09xr76IxMwpr8WbaXxu3dmgMkINxHIe7oy+C+u/Cnp0wQuii7DDN42WdchVynwhEIXBwFL7oLLUGivSYfpBnlF8KSHbDfkTSmkhOtBOHdX1Umi3puWNH6HvbqEEV8sgRysRaVKC5yE6GtXxCv7DDdaL/5QzbfIWMrC0i1PLTeMP505M=
